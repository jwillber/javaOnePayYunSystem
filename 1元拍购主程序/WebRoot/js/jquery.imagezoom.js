(function(a){a.fn.imagezoom=function(d){var f={xzoom:420,yzoom:310,offset:10,position:"BTR",preload:1};if(d){a.extend(f,d)}var e="";var c=this;a(this).bind("mouseenter",function(n){var o=a(this).offset().left;var h=a(this).offset().top;var m=a(this).get(0).offsetWidth;var k=a(this).get(0).offsetHeight;var j=a(this).parent().offset().left;var p=a(this).parent().offset().top;var i=a(this).parent().width();var l=a(this).parent().height();e=a(this).attr("alt");var g=a(this).attr("rel");a(this).attr("alt","");if(a("div.zoomDiv").get().length==0){a(document.body).append("<div class='zoomDiv'><img class='bigimg' src='"+g+"'/></div><div class='zoomMask'>&nbsp;</div>")}if(f.position=="BTR"){if(j+i+f.offset+f.xzoom>screen.width){leftpos=j-f.offset-f.xzoom}else{leftpos=j+i+f.offset}}else{leftpos=o-f.xzoom-f.offset;if(leftpos<0){leftpos=o+m+f.offset}}a("div.zoomDiv").css({top:p,left:leftpos});a("div.zoomDiv").width(f.xzoom);a("div.zoomDiv").height(f.yzoom);a("div.zoomDiv").show();a(this).css("cursor","crosshair");a(document.body).mousemove(function(t){mouse=new MouseEvent(t);if(mouse.x<o||mouse.x>o+m||mouse.y<h||mouse.y>h+k){b();return}var u=a(".bigimg").get(0).offsetWidth;var s=a(".bigimg").get(0).offsetHeight;var q="x";var r="y";if(isNaN(r)|isNaN(q)){var r=(u/m);var q=(s/k);a("div.zoomMask").width((f.xzoom)/r);a("div.zoomMask").height((f.yzoom)/q);a("div.zoomMask").css("visibility","visible")}xpos=mouse.x-a("div.zoomMask").width()/2;ypos=mouse.y-a("div.zoomMask").height()/2;xposs=mouse.x-a("div.zoomMask").width()/2-o;yposs=mouse.y-a("div.zoomMask").height()/2-h;xpos=(mouse.x-a("div.zoomMask").width()/2<o)?o:(mouse.x+a("div.zoomMask").width()/2>m+o)?(m+o-a("div.zoomMask").width()):xpos;ypos=(mouse.y-a("div.zoomMask").height()/2<h)?h:(mouse.y+a("div.zoomMask").height()/2>k+h)?(k+h-a("div.zoomMask").height()):ypos;a("div.zoomMask").css({top:ypos,left:xpos});a("div.zoomDiv").get(0).scrollLeft=xposs*r;a("div.zoomDiv").get(0).scrollTop=yposs*q})});function b(){a(c).attr("alt",e);a(document.body).unbind("mousemove");a("div.zoomMask").remove();a("div.zoomDiv").remove()}count=0;if(f.preload){a("body").append("<div style='display:none;' class='jqPreload"+count+"'></div>");a(this).each(function(){var h=a(this).attr("rel");var g=jQuery("div.jqPreload"+count+"").html();jQuery("div.jqPreload"+count+"").html(g+'<img src="'+h+'">')})}}})(jQuery);function MouseEvent(a){this.x=a.pageX;this.y=a.pageY};
