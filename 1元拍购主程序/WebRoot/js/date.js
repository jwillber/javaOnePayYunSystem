Date.prototype.Format=function(c){var b=c;var a=["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"];b=b.replace(/yyyy|YYYY/,this.getFullYear());b=b.replace(/yy|YY/,(this.getYear()%100)>9?(this.getYear()%100).toString():"0"+(this.getYear()%100));b=b.replace(/MM/,this.getMonth()+1>9?(this.getMonth()+1).toString():"0"+(this.getMonth()+1));b=b.replace(/M/g,this.getMonth());b=b.replace(/w|W/g,a[this.getDay()]);b=b.replace(/dd|DD/,this.getDate()>9?this.getDate().toString():"0"+this.getDate());b=b.replace(/d|D/g,this.getDate());b=b.replace(/hh|HH/,this.getHours()>9?this.getHours().toString():"0"+this.getHours());b=b.replace(/h|H/g,this.getHours());b=b.replace(/mm/,this.getMinutes()>9?this.getMinutes().toString():"0"+this.getMinutes());b=b.replace(/m/g,this.getMinutes());b=b.replace(/ss|SS/,this.getSeconds()>9?this.getSeconds().toString():"0"+this.getSeconds());b=b.replace(/s|S/g,this.getSeconds());return b};Date.prototype.DateAdd=function(c,a){var b=this;switch(c){case"s":return new Date(Date.parse(b)+(1000*a));case"n":return new Date(Date.parse(b)+(60000*a));case"h":return new Date(Date.parse(b)+(3600000*a));case"d":return new Date(Date.parse(b)+(86400000*a));case"w":return new Date(Date.parse(b)+((86400000*7)*a));case"q":return new Date(b.getFullYear(),(b.getMonth())+a*3,b.getDate(),b.getHours(),b.getMinutes(),b.getSeconds());case"m":return new Date(b.getFullYear(),(b.getMonth())+a,b.getDate(),b.getHours(),b.getMinutes(),b.getSeconds());case"y":return new Date((b.getFullYear()+a),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes(),b.getSeconds())}};function IsValidDate(a){var b=a.replace(/(^\s+|\s+$)/g,"");if(b==""){return true}var c=b.replace(/[\d]{4}[\-]{1}[\d]{1,2}[\-]{1}[\d]{1,2}/g,"");if(c==""){var d=new Date(b.replace(/\-/g,"/"));var e=b.split(/[-\/:]/);if(e[0]!=d.getFullYear()||e[1]!=d.getMonth()+1||e[2]!=d.getDate()){return false}}else{return false}return true}function ConvertDate(a){return new Date(a.replace(/\-/g,"/"))}function IsValidDateTime(b){var a=b.match(/^(\d{1,4})\-(\d{1,2})\-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/);if(a==null){return false}a[2]=a[2]-1;var c=new Date(a[1],a[2],a[3],a[4],a[5],a[6]);if(c.getFullYear()!=a[1]){return false}if(c.getMonth()!=a[2]){return false}if(c.getDate()!=a[3]){return false}if(c.getHours()!=a[4]){return false}if(c.getMinutes()!=a[5]){return false}if(c.getSeconds()!=a[6]){return false}return true};
